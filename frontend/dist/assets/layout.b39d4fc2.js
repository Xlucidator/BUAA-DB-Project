import{_ as I,a as c,o as f,e as A,f as r,F as b,t as E,R,g as s,w as u,y as w,p as N,m as B,b as g,v as T,S as G,k as x,T as Y,U as Q,c as z}from"./index.620621f6.js";import{g as J}from"./utils.f640e782.js";const W=n=>(N("data-v-c1f32a1c"),n=n(),B(),n),j=W(()=>r("div",{style:{opacity:"0"}},"-",-1)),q={class:"message-item"},K=["onClick"],ee={class:"message-left"},te=["src"],se={class:"message-right"},oe={class:"message-header"},ae={class:"message-content"},ne={__name:"MessageGroupBar",props:{concats:Array},setup(n){function a(o,_){let p=this.concats;p.map(e=>{e.active=!1}),p[o].active=!0,this.$forceUpdate(),this.$emit("switchGroup",o,_)}function i(o){let _=new Date(o),p=_.getHours(),e=_.getMinutes();return p<10&&(p=`0${p}`),e<10&&(e=`0${e}`),`${p}:${e}`}return(o,_)=>{const p=c("el-badge");return f(),A(b,null,[j,r("ul",q,[(f(!0),A(b,null,E(n.concats,(e,m)=>(f(),A("li",{key:m,onClick:l=>a(m,e.id),class:R(["message-list",{"message-active":e.active}])},[r("div",ee,[s(p,{class:"item",max:99,value:0,hidden:!0},{default:u(()=>[r("img",{class:"message-avatar",src:e.avatar},null,8,te)]),_:2},1024)]),r("div",se,[r("div",oe,[r("div",null,w(e.GName),1),r("div",null,w(i(e.LastMessage.time)),1)]),r("div",ae,w(e.LastMessage.content),1)])],10,K))),128))])],64)}}},le=I(ne,[["__scopeId","data-v-c1f32a1c"]]);function ce(n){return{all:n=n||new Map,on:function(a,i){var o=n.get(a);o?o.push(i):n.set(a,[i])},off:function(a,i){var o=n.get(a);o&&(i?o.splice(o.indexOf(i)>>>0,1):n.set(a,[]))},emit:function(a,i){var o=n.get(a);o&&o.slice().map(function(_){_(i)}),(o=n.get("*"))&&o.slice().map(function(_){_(a,i)})}}}const P=ce();const ie={class:"message-panel-box"},ue={class:"message-styles-box"},re={key:0,class:"message-nickname"},de={key:1,class:"message-nickname"},pe=["innerHTML"],_e={__name:"MessageDisplayBox",props:{GId:Number,localInfo:Object,concats:Array},setup(n){const a=g([{MId:0,type:"self",Type:1,SendFrom:T.state.user.CodeName,SendToPerson:null,SendToGroup:0,ContentText:"welcome",Time:new Date().getTime()},{MId:1,type:"self",Type:1,SendFrom:T.state.user.CodeName,SendToPerson:null,SendToGroup:0,ContentText:"hello",Time:new Date().getTime()},{MId:2,type:"server",Type:1,SendFrom:"other",SendToPerson:null,SendToGroup:0,ContentText:"hello~",Time:new Date().getTime()}]);g([]),g(0),g(!0);function i(e,m,l){e=new Date(e);let t=e.getFullYear(),d=e.getMonth()+1,v=e.getDate(),y=e.getHours(),M=e.getMinutes();return m?`${t}${d}${v}${y}${M}`:l?`${t}${l}${d}${l}${v}`:`${t}${d}${v}`}function o(e){let m=new Date(e),l=m.getHours(),t=m.getMinutes();l<10&&(l=`0${l}`),t<10&&(t=`0${t}`);let d=new Date;return i(m)===i(d)?`${l}:${t}`:`${i(m,!1,"/")} ${l}:${t}`}function _(e){return e==="server"?"message-layout-left":"message-layout-right"}const p=Y();return G(()=>{P.on("MESSAGE",e=>{e.type="self",console.log("receive message"),console.log(e),a.value.push(e),console.log(a),p.proxy.$forceUpdate()})}),(e,m)=>{const l=c("el-button"),t=c("el-avatar");return f(),A("div",ie,[s(l,{class:"browse-more"},{default:u(()=>[x("\u52A0\u8F7D\u66F4\u591A\u6D88\u606F")]),_:1}),r("ul",ue,[(f(!0),A(b,null,E(a.value,(d,v)=>(f(),A("li",{key:v,class:R(_(d.type))},[s(t,{shape:"square",fit:"recover",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmZL8JMe_wjEetgSpVbBczxedyQcdEMU1r73HfHwTg_g&s"}),d.type=="server"?(f(),A("p",re,w(d.SendFrom)+" "+w(o(d.Time)),1)):(f(),A("p",de,w(o(d.Time))+" "+w(d.SendFrom),1)),r("p",{class:"message-classic",innerHTML:d.ContentText},null,8,pe)],2))),128))])])}}},me=I(_e,[["__scopeId","data-v-5fe244aa"]]),ge="data:image/png;base64,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";const S=n=>(N("data-v-a0ef52a3"),n=n(),B(),n),fe={class:"message-input-box"},Ae={class:"input-tools"},ve=S(()=>r("i",{slot:"reference",class:"el-icon-s-opportunity",title:"\u8868\u60C5"},null,-1)),he=S(()=>r("div",{style:{float:"left"}},null,-1)),we=S(()=>r("img",{src:ge,alt:"\u8868\u60C5",style:{float:"left",border:"0",width:"20px",height:"20px"}},null,-1)),ye={__name:"MessageInputBox",props:{concats:Array,localInfo:Object},setup(n){const a=g(""),i=g("10");function o(){let e={MId:i.value,Type:0,SendFrom:T.state.user.CodeName,SendToPerson:null,SendToGroup:0,ContentText:_(),Picture:null,Time:new Date().getTime()};i.value+=1,p()&&(console.log("inputText:	"+a.value),console.log("ContentText	"+e.ContentText),console.log(e),P.emit("MESSAGE",e),a.value="",J())}function _(){return a.value.replace(/\n/g,"").replace(new RegExp("<","gm"),"&lt")}function p(){return a.value.replace(/\s+/g,"")===""?(this.$alert("\u8BF7\u8F93\u5165\u5185\u5BB9"),!1):!0}return G(()=>{}),(e,m)=>{const l=c("Files"),t=c("el-icon"),d=c("el-button"),v=c("el-input");return f(),A("div",fe,[r("div",Ae,[ve,s(t,{title:"\u6587\u4EF6",style:{float:"left"}},{default:u(()=>[s(l)]),_:1}),he,we,s(d,{size:"mini",type:"primary",class:"send-button",style:{float:"right","margin-bottom":"5px","margin-right":"5px"},onClick:o},{default:u(()=>[x(" \u53D1\u9001 ")]),_:1})]),s(v,{type:"textarea",resize:"none",autosize:{minRows:6,maxRows:10},modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=y=>a.value=y),onKeyup:Q(o,["enter"])},null,8,["modelValue","onKeyup"])])}}},Me=I(ye,[["__scopeId","data-v-a0ef52a3"]]);const D=n=>(N("data-v-44c83cc1"),n=n(),B(),n),Te={class:"title"},be={class:"operator-list"},xe={class:"operator-item"},Ie=D(()=>r("div",{style:{"text-align":"center"}},"operator-name",-1)),Ee=D(()=>r("span",{style:{"margin-left":"20px",width:"70%"}},"\u8054\u7EDC\u5C0F\u7EC4\u540D",-1)),Ne={class:"dialog-footer"},Be={__name:"layout",setup(n){const a=g(!1),i=g(""),o=g([{GId:0,GName:"Rhodesisland",active:!1,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3vJJ9-GS20euNHyc4dMnz74JGf45ca8MxJtUGCy8&s",LastMessage:{time:15805728e5,content:"total"}},{GId:1,GName:"\u65E5\u843D\u5373\u901D",active:!1,avatar:"https://pic1.zhimg.com/v2-6714b4912885f481d11776147a672fe0_b.jpg",LastMessage:{time:1580572805123,content:"nothing"}},{GId:2,active:!1,GName:"A1\u884C\u52A8\u9884\u5907\u7EC4",avatar:"https://i02piccdn.sogoucdn.com/31ea48572e9b87a4",LastMessage:{time:1580572802345,content:"nothing"}}]),_=g(0);g("group");const p=g({CodeName:T.state.user.CodeName,Avatar:T.state.user.Avatar});function e(l,t){this.nowSwitch=l,this.nowSwitchId=t,this.concats[l].message.isNewMessage!==void 0&&(this.concats[l].message.isNewMessage=!1,this.concats[l].message.newMeesageCount=0)}function m(){a.value=!0}return G(()=>{}),(l,t)=>{const d=c("el-input"),v=c("Plus"),y=c("el-icon"),M=c("el-button"),V=c("el-header"),L=c("el-aside"),$=c("el-main"),U=c("el-avatar"),Z=c("el-checkbox"),k=c("el-scrollbar"),C=c("el-col"),F=c("el-row"),H=c("el-dialog"),X=c("el-container");return f(),z(X,{class:"wrapper",style:{height:"100%"}},{default:u(()=>[s(L,{class:"group-bar"},{default:u(()=>[s(V,{style:{width:"100%"}},{default:u(()=>[s(d,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=h=>i.value=h),style:{width:"80%",margin:"3%"},placeholder:"\u641C\u7D22\u7FA4\u7EC4/\u8054\u7CFB\u4EBA","prefix-icon":"Search"},null,8,["modelValue"]),s(M,{onClick:t[1]||(t[1]=h=>m()),type:"primary",circle:""},{default:u(()=>[s(y,null,{default:u(()=>[s(v)]),_:1})]),_:1})]),_:1}),s(le,{concats:o.value,onSwitchGroup:e},null,8,["concats"])]),_:1}),s($,null,{default:u(()=>[s(V,null,{default:u(()=>[r("span",Te,w(o.value[_.value].GName),1)]),_:1}),s(me,{concats:o.value,localInfo:p.value,onMessage:l.message},null,8,["concats","localInfo","onMessage"]),s(Me,{concats:o.value,localInfo:p.value},null,8,["concats","localInfo"])]),_:1}),s(H,{modelValue:a.value,"onUpdate:modelValue":t[6]||(t[6]=h=>a.value=h),title:"AddGroup",width:"30%",draggable:"",style:{height:"500px"}},{footer:u(()=>[r("span",Ne,[s(M,{onClick:t[4]||(t[4]=h=>a.value=!1)},{default:u(()=>[x("Cancel")]),_:1}),s(M,{type:"primary",onClick:t[5]||(t[5]=h=>a.value=!1)},{default:u(()=>[x(" Confirm ")]),_:1})])]),default:u(()=>[s(F,null,{default:u(()=>[s(C,{span:12},{default:u(()=>[s(k,{"max-height":"300px"},{default:u(()=>[r("ul",be,[(f(!0),A(b,null,E(5,h=>(f(),A("li",xe,[s(U,{shape:"square"}),Ie,s(Z,{modelValue:l.checked1,"onUpdate:modelValue":t[2]||(t[2]=O=>l.checked1=O),label:"",size:"large"},null,8,["modelValue"])]))),256))])]),_:1})]),_:1}),s(C,{span:12},{default:u(()=>[s(k,{"max-height":"300px"},{default:u(()=>[Ee,s(d,{modelValue:l.newGroupName,"onUpdate:modelValue":t[3]||(t[3]=h=>l.newGroupName=h),style:{"margin-left":"20px",width:"70%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Ve=I(Be,[["__scopeId","data-v-44c83cc1"]]);export{Ve as default};
